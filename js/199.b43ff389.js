"use strict";(self["webpackChunkvue3_pwa"]=self["webpackChunkvue3_pwa"]||[]).push([[199],{9199:function(t,n,o){o.r(n),o.d(n,{default:function(){return f}});var e=o(3396),s=o(9242);const i={class:"wrapper-login"},r={class:"container-login"},u={class:"loginBlock"},a=(0,e._)("h1",null,"營養師登入",-1),c={class:"loginInputBlock"},l={for:"accountInput"},p={for:"passwordInput"};function d(t,n,o,d,g,h){return(0,e.wg)(),(0,e.iD)("div",i,[(0,e._)("div",r,[(0,e._)("div",u,[a,(0,e._)("form",c,[(0,e._)("label",l,[(0,e.wy)((0,e._)("input",{type:"text",id:"accountInput","onUpdate:modelValue":n[0]||(n[0]=t=>g.nutritionist.account=t),placeholder:"Account",requried:""},null,512),[[s.nr,g.nutritionist.account]])]),(0,e._)("label",p,[(0,e.wy)((0,e._)("input",{type:"password",id:"passwordInput","onUpdate:modelValue":n[1]||(n[1]=t=>g.nutritionist.password=t),placeholder:"Password",requried:"",autocomplete:"current-password"},null,512),[[s.nr,g.nutritionist.password]])]),(0,e._)("button",{type:"button",id:"signinBtn",class:"signinBtn",onClick:n[2]||(n[2]=(...t)=>h.login&&h.login(...t))},"登入"),(0,e._)("button",{type:"button",id:"registerBtn",class:"registerBtn",onClick:n[3]||(n[3]=(...t)=>h.goToRegister&&h.goToRegister(...t))},"註冊")])])])])}o(7658);var g=o(8456),h={data(){return{nutritionist:{account:"",password:""}}},methods:{login(){const t="https://140.123.173.4",n="/nutritionist/login";this.$http.post(`${t}${n}`,this.nutritionist).then((t=>{if(console.log(t.data),t.data.success){const{token:n,expired:o,id:e,name:s}=t.data;return this.$store.commit("SET_USERID",e),this.$store.dispatch("login",s),document.cookie=`hasToken=${n}; expires=${new Date(o)};`,(0,g.oA)()}return(0,g.BL)()})).then((()=>{this.$router.push("/frontEnd/homepage")})).catch((t=>{console.log(t),(0,g.BL)()}))},goToRegister(){this.$router.push("/userRegister")}}},w=o(89);const _=(0,w.Z)(h,[["render",d]]);var f=_}}]);
//# sourceMappingURL=199.b43ff389.js.map